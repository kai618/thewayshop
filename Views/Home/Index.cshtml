@using thewayshop.Controllers
@using thewayshop.Models
@Html.Partial("_Slider")
@{
  var types = (List<LoaiSanPham>) ViewBag.types;
  var products = (List<SanPham>) ViewBag.products;
}
<!-- Start Categories  -->
<div class="categories-shop">
  <div class="container">
    <div class="row">
      @{
        const int typePerCol = 2;
      }
      @for (var i = 0; i < types.Count; i++)
      {
        if (i % typePerCol == 0)
        {
          @Html.Raw("<div class=\"col-sm\">")
        }

        <div class="shop-cat-box">
          @{ var path = types[i].HinhAnh01 + ".jpg"; }
          <img class="img-fluid" src="~/theway/images/cat/@path" alt=""/>
          <a class="btn hvr-hover" href="#">@types[i].TenLoaiSP</a>
        </div>

        if (i % typePerCol == typePerCol - 1 || i == types.Count - 1)
        {
          @Html.Raw("</div>")
        }
      }

    </div>
  </div>
</div>
<!-- End Categories -->

<!-- Start Products  -->
<div class="products-box">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="title-all text-center">
          <h1>Featured Products</h1>
          <p>We truly guarantee our customers the best products.</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="special-menu text-center">
          <div class="button-group filter-button-group">
            <button class="active" data-filter="*">All</button>
            <button data-filter=".top-featured">Top Featured</button>
            <button data-filter=".best-seller">Best Seller</button>
          </div>
        </div>
      </div>
    </div>

    <div class="row special-list">

      @foreach (var p in products)
      {
        var path = p.HinhAnh01 + ".webp";

        if (p.LoaiTrungBay == ShowCaseType.New)
        {
          <div class="col-lg-3 col-md-6 special-grid top-featured">
            <div class="products-single fix">
              <div class="box-img-hover">
                <div class="type-lb">
                  <p class="new">New</p>
                </div>

                <img src="~/theway/images/product/@path" class="img-fluid" alt="Image">
                <div class="mask-icon">
                  <ul>
                    <li>
                      <a href="#" data-toggle="tooltip" data-placement="right" title="View">
                        <i class="fas fa-eye"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" data-toggle="tooltip" data-placement="right" title="Compare">
                        <i class="fas fa-sync-alt"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" data-toggle="tooltip" data-placement="right" title="Add to Wishlist">
                        <i class="far fa-heart"></i>
                      </a>
                    </li>
                  </ul>
                  <a class="cart" href="#">Add to Cart</a>
                </div>
              </div>
              <div class="why-text">
                <h4>@Utility.StringCapitalise(p.TenSP)</h4>
                <h5> $@p.GiaThuc</h5>
              </div>
            </div>
          </div>
        }
        else if (p.LoaiTrungBay == ShowCaseType.Sale)
        {
          <div class="col-lg-3 col-md-6 special-grid best-seller">
            <div class="products-single fix">
              <div class="box-img-hover">
                <div class="type-lb">
                  <p class="sale">Sale</p>
                </div>
                <img src="~/theway/images/product/@path" class="img-fluid" alt="Image">
                <div class="mask-icon">
                  <ul>
                    <li>
                      <a href="#" data-toggle="tooltip" data-placement="right" title="View">
                        <i class="fas fa-eye"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" data-toggle="tooltip" data-placement="right" title="Compare">
                        <i class="fas fa-sync-alt"></i>
                      </a>
                    </li>
                    <li>
                      <a href="#" data-toggle="tooltip" data-placement="right" title="Add to Wishlist">
                        <i class="far fa-heart"></i>
                      </a>
                    </li>
                  </ul>
                  <a class="cart" href="#">Add to Cart</a>
                </div>
              </div>
              <div class="why-text">
                <h4>@Utility.StringCapitalise(p.TenSP)</h4>
                <h5> $@p.GiaThuc</h5>
              </div>
            </div>
          </div>
        }
      }
    </div>
  </div>
</div>
<!-- End Products  -->

@Html.Partial("_Blog");